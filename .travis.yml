language: java

jdk:
  - oraclejdk7
  - oraclejdk8


branches:
  # blacklist 黑名单
  except:
    - legacy
    - experimental
  # whitelist 白名单
  only:
    - master
    - develop

install:
  - mvn install -Dmaven.test.skip=true

before_script:
  - mvn clean

notifications:
  email:
    recipients:
      - 547933567@qq.com
      - 510647180@qq.com
      - 1243610991@qq.com
    on_success: always
    on_failure: always

deploy:
  provider: releases
  api-key: "ff86d23a5e12841eb1100df0019df738a0b2673b"
  file: "node/data-transfer-excel.xml"
  skip_cleanup: true
  on:
    tags: true
